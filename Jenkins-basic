pipeline{
  agent any

    stages{
      when{
        expression{
          BRANCH_NAME = "dev" || BRANCH_NAME = "main"
        }
      }
      stage("Testing"){
        steps{
          echo "Testing is running!"
        }
      }
      stage("Building"){
        steps{
          echo "Building is running!"
        }
      }
      stage("Deploying"){
        steps{
          echo "Deploying is running!"
        }
      }
    }

  post{
    always{
        echo "Default always!"
    }
    success{
        echo "Sucess"
    }
    failure{
        echo "failed"
    }
  }
}
