pipeline{
  agent any

    stages{
      stage("Testing"){
        when {
          expression{
            env.BRANCH_NAME == 'dev' || env.BRANCH_NAME == 'main'
          }
        }
        steps{
          echo "Testing is running!"
        }
      }
      stage("Building"){
        steps{
          echo "Building is running!"
        }
      }
      stage("Deploying"){
        steps{
          echo "Deploying is running!"
        }
      }
    }

  post{
    always{
        echo "Default always!"
    }
    success{
        echo "Sucess"
    }
    failure{
        echo "failed"
    }
  }
}
